extends ../../layouts/default.pug
include ../../mixins/filter.pug
include ../../mixins/search.pug

block main 
  h1(class="mb-4") Products

  .card.mb-3
    .card-header Filtering and Searching
    .card-body
      .row 
        .col-6 
          +filter(filterStatus)
        
        .col-6 
          +search(keyword)
      

  .card.mb-3
    .card-header Product List
    .card-body
      table.table.table-hover.table-sm
        thead
          tr
            th Index
            th Images
            th Title
            th Price
            th Status
            th Action

        tbody
          each item, index in products
            tr 
              td #{index+1}
              td
                img(
                  src=item.thumbnail
                  alt=item.title
                  width="100px"
                  height="auto"
                )
              td #{item.title}
              td #{item.price}$
              td
                if(item.status == "active")
                  a(href="#" class="badge badge-success") Active 
                else 
                  a(href="#" class="badge badge-danger") Inactive
              td
                button(class="btn btn-warning btn-sm") Edit
                button(class="btn btn-danger btn-sm ml-1") Delete

  nav
    ul.pagination
      if(objectPagination.currentPage > 1)
        li(class="page-item")
          button(
              class="page-link"
              button-pagination=1
          ) First Page
        li(class="page-item")
          button(
              class="page-link"
              button-pagination=objectPagination.currentPage - 1
          ) Previous Page
          
      if(objectPagination.currentPage > 2)
        li(class="page-item")
          button(class="page-link") ...
      
      if(objectPagination.currentPage == 1)
        - for(var i = objectPagination.currentPage; i <= objectPagination.currentPage + 2; i++)
            li(class=`page-item ${objectPagination.currentPage == i ? "active" : ""}`)
              button(class="page-link" button-pagination=i) #{i}
      
      else if(objectPagination.currentPage == objectPagination.totalPage)
        - for(var i = objectPagination.currentPage - 2; i <= objectPagination.currentPage; i++)
            li(class=`page-item ${objectPagination.currentPage == i ? "active" : ""}`)
              button(class="page-link" button-pagination=i) #{i}
      
      else 
        - for(var i = objectPagination.currentPage - 1; i <= objectPagination.currentPage + 1; i++)
            li(class=`page-item ${objectPagination.currentPage == i ? "active" : ""}`)
              button(class="page-link" button-pagination=i) #{i}

      if(objectPagination.currentPage < objectPagination.totalPage - 1)
        li(class="page-item")
          button(class="page-link") ...
      
      if(objectPagination.currentPage < objectPagination.totalPage)
        li(class="page-item")
          button(
              class="page-link"
              button-pagination=objectPagination.currentPage + 1
          ) Next Page
        li(class="page-item")
          button(
              class="page-link"
              button-pagination=objectPagination.totalPage
          ) Last Page
