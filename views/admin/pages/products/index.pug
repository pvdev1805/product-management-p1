extends ../../layouts/default.pug
include ../../mixins/filter.pug
include ../../mixins/search.pug
include ../../mixins/pagination.pug

block main 
  h1(class="mb-4") Products

  .card.mb-3
    .card-header Filtering and Searching
    .card-body
      .row 
        .col-6 
          +filter(filterStatus)
        
        .col-6 
          +search(keyword)
      

  .card.mb-3
    .card-header Product List
    .card-body
      table.table.table-hover.table-sm
        thead
          tr
            th Index
            th Images
            th Title
            th Price
            th Status
            th Action

        tbody
          each item, index in products
            tr 
              td #{index+1}
              td
                img(
                  src=item.thumbnail
                  alt=item.title
                  width="100px"
                  height="auto"
                )
              td #{item.title}
              td #{item.price}$
              td
                if(item.status == "active")
                  a(
                    href=`javascript:;` 
                    button-change-status
                    data-id=item.id 
                    data-status="inactive"
                    class="badge badge-success"
                  ) Active 
                else 
                  a(
                    href=`javascript:;` 
                    button-change-status
                    data-id=item.id 
                    data-status="active"
                    class="badge badge-danger"
                  ) Inactive
              td
                button(class="btn btn-warning btn-sm") Edit
                button(class="btn btn-danger btn-sm ml-1") Delete

  +pagination(objectPagination)

  form(
    form-change-status 
    method="POST"
    action=""
    data-path=`/admin/products/change-status`
  )